# üîç –û–±—è—Å–Ω–µ–Ω–∏–µ: Registry Results Viewer vs Pipeline Visualizer

## ‚ùó –í–ê–ñ–ù–û: –†–∞–∑–ª–∏–∫–∞—Ç–∞ –º–µ–∂–¥—É –¥–≤–∞—Ç–∞ HTML —Ñ–∞–π–ª–∞

### 1Ô∏è‚É£ **registry_pipeline_visual.html** (—Å—Ç–∞—Ä–∏—è—Ç)
- **–¶–µ–ª**: LIVE —Ç—ä—Ä—Å–µ–Ω–µ –ø—Ä–µ–∑ CompanyBook API
- **–ò–∑–≤–æ—Ä**: –ü—Ä–∞–≤–∏ –∑–∞—è–≤–∫–∏ –¥–∏—Ä–µ–∫—Ç–Ω–æ –∫—ä–º CompanyBook (–ø—Ä–µ–∑ –ª–æ–∫–∞–ª–µ–Ω proxy)
- **–ò–∑–∏—Å–∫–≤–∞**: node server/companybook_proxy.mjs –¥–∞ –µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω
- **–†–µ–∑—É–ª—Ç–∞—Ç–∏**: Shows LIVE data from API (–Ω–µ –∑–∞–≤–∏—Å–∏ –æ—Ç DB)
- **–£–ø–æ—Ç—Ä–µ–±–∞**: –ó–∞ —Ä—ä—á–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ –∏ –¥–µ–±—ä–≥–≤–∞–Ω–µ –Ω–∞ API –ª–æ–≥–∏–∫–∞—Ç–∞

### 2Ô∏è‚É£ **registry_results_viewer.html** (–Ω–æ–≤–∏—è—Ç)
- **–¶–µ–ª**: –ü–æ–∫–∞–∑–≤–∞ –ó–ê–ü–ê–ó–ï–ù–ò —Ä–µ–∑—É–ª—Ç–∞—Ç–∏ –æ—Ç –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏
- **–ò–∑–≤–æ—Ä**: Supabase —Ç–∞–±–ª–∏—Ü–∞ `user_registry_checks`
- **–ò–∑–∏—Å–∫–≤–∞**: Supabase URL + Anon Key
- **–†–µ–∑—É–ª—Ç–∞—Ç–∏**: –ü–æ–∫–∞–∑–≤–∞ —Å–∞–º–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –∫–æ–∏—Ç–æ —Å–∞ –ú–ò–ù–ê–õ–ò –ø—Ä–µ–∑ registry_check Edge Function
- **–£–ø–æ—Ç—Ä–µ–±–∞**: –ó–∞ –ø—Ä–µ–≥–ª–µ–¥ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑

---

## ü§î –ó–∞—â–æ –Ω—è–º–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏ –∑–∞ "–ê—Å–µ–Ω –ú–∏—Ç–∫–æ–≤ –ê—Å–µ–Ω–æ–≤"?

**–ù–∞–π-–≤–µ—Ä–æ—è—Ç–Ω–∞—Ç–∞ –ø—Ä–∏—á–∏–Ω–∞:**
–¢–æ–∑–∏ —á–æ–≤–µ–∫ **–ù–ï –ï –ü–†–ï–ú–ò–ù–ê–õ** –ø—Ä–µ–∑ `registry_check` Edge Function, –∑–∞—Ç–æ–≤–∞ **–Ω—è–º–∞ –∑–∞–ø–∏—Å** –≤ `user_registry_checks` —Ç–∞–±–ª–∏—Ü–∞—Ç–∞.

**registry_results_viewer.html –ø–æ–∫–∞–∑–≤–∞ —Å–∞–º–æ:**
- –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –∫–æ–∏—Ç–æ —Å–∞ —Å–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–ª–∏ –ø—Ä–µ–∑ –≤–∞—à–∞—Ç–∞ —Ñ–æ—Ä–º–∞
- –ò –∑–∞ –∫–æ–∏—Ç–æ –µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω registry_check endpoint
- –ò —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ —Å–∞ –∑–∞–ø–∏—Å–∞–Ω–∏ –≤ user_registry_checks

---

## ‚úÖ –ö–∞–∫ –¥–∞ –≥–æ —Ç–µ—Å—Ç–≤–∞—à –ø—Ä–∞–≤–∏–ª–Ω–æ

### –û–ø—Ü–∏—è 1: –ü—Ä–æ–≤–µ—Ä–∏ –∫–æ–∏ –∏–º–µ–Ω–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—Ç –≤ –±–∞–∑–∞—Ç–∞

1. **–û—Ç–≤–æ—Ä–∏ Supabase SQL Editor**
2. **–ò–∑–ø—ä–ª–Ω–∏ SQL –∑–∞—è–≤–∫–∏—Ç–µ –æ—Ç `CHECK_DATABASE.sql`** (—Ç–æ–∫—É-—â–æ –≥–æ —Å—ä–∑–¥–∞–¥–æ—Ö)
3. **–í–∏–∂ –∫–æ–µ –∏–º–µ —Ä–µ–∞–ª–Ω–æ –∏–º–∞ –≤ –±–∞–∑–∞—Ç–∞**
4. **–ò–∑–ø–æ–ª–∑–≤–∞–π –ï–î–ù –û–¢ –¢–ï–ó–ò –ò–ú–ï–ù–ê** –≤ registry_results_viewer.html

```sql
-- –ö–æ–ø–∏—Ä–∞–π —Ç–∞–∑–∏ –∑–∞—è–≤–∫–∞ –≤ Supabase
SELECT DISTINCT full_name 
FROM user_registry_checks 
ORDER BY created_at DESC
LIMIT 20;
```

### –û–ø—Ü–∏—è 2: –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–π –Ω–æ–≤ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª

1. **–†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–π —Å–µ –ø—Ä–µ–∑ –≤–∞—à–∞—Ç–∞ —Ñ–æ—Ä–º–∞** —Å –∏–º–µ—Ç–æ "–ê—Å–µ–Ω –ú–∏—Ç–∫–æ–≤ –ê—Å–µ–Ω–æ–≤"
2. **–ò–∑—á–∞–∫–∞–π 30 —Å–µ–∫** (–∑–∞ webhook/trigger –¥–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞ registry_check)
3. **–ü—Ä–æ–≤–µ—Ä–∏ –≤ Supabase:**
   ```sql
   SELECT * FROM user_registry_checks 
   WHERE full_name ILIKE '%–ê—Å–µ–Ω%'
   ORDER BY created_at DESC;
   ```
4. **–°–ª–µ–¥ –∫–∞—Ç–æ –≤–∏–¥–∏—à –∑–∞–ø–∏—Å** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏ –≤ registry_results_viewer.html

### –û–ø—Ü–∏—è 3: –†—ä—á–Ω–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–π registry_check –∑–∞ —Ç–æ–≤–∞ –∏–º–µ

**POST –∫—ä–º Edge Function:**
```bash
curl -X POST https://ansiaiuaygcfztabtknl.supabase.co/functions/v1/registry_check \
  -H "Authorization: Bearer YOUR_ANON_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "full_name": "–ê—Å–µ–Ω –ú–∏—Ç–∫–æ–≤ –ê—Å–µ–Ω–æ–≤",
    "email": "test@example.com"
  }'
```

–°–ª–µ–¥ —Ç–æ–≤–∞ –æ—Ç–Ω–æ–≤–æ –ø—Ä–æ–≤–µ—Ä–∏ –≤ registry_results_viewer.html

### –û–ø—Ü–∏—è 4: –ò–∑–ø–æ–ª–∑–≤–∞–π —Å—Ç–∞—Ä–∏—è—Ç pipeline –∑–∞ LIVE —Ç—ä—Ä—Å–µ–Ω–µ

–ê–∫–æ –∏—Å–∫–∞—à –¥–∞ —Ç–µ—Å—Ç–≤–∞—à LIVE (–±–µ–∑ DB –∑–∞–ø–∏—Å):

1. **–°—Ç–∞—Ä—Ç–∏—Ä–∞–π proxy:**
   ```bash
   node server/companybook_proxy.mjs
   ```

2. **–û—Ç–≤–æ—Ä–∏:** `docs/registry_pipeline_visual.html`

3. **–í—ä–≤–µ–¥–∏:** "–ê—Å–µ–Ω –ú–∏—Ç–∫–æ–≤ –ê—Å–µ–Ω–æ–≤"

4. **Click "Live —Ç—ä—Ä—Å–µ–Ω–µ –∏ –∏–∑–≤–ª–∏—á–∞–Ω–µ"**

–¢–æ–∑–∏ —â–µ —Ä–∞–±–æ—Ç–∏ –¥–∏—Ä–µ–∫—Ç–Ω–æ —Å CompanyBook API.

---

## üìä –ë—ä—Ä–∑–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ –°–ï–ì–ê

**–ù–∞–π-–±—ä—Ä–∑–∏—è—Ç –Ω–∞—á–∏–Ω –¥–∞ –≤–∏–¥–∏—à —á–µ –Ω–æ–≤–∏—è—Ç viewer —Ä–∞–±–æ—Ç–∏:**

### –°—Ç—ä–ø–∫–∞ 1: –ü—Ä–æ–≤–µ—Ä–∏ –∫–∞–∫–≤–æ –∏–º–∞ –≤ –±–∞–∑–∞—Ç–∞
```sql
-- –í Supabase SQL Editor:
SELECT 
  full_name,
  email,
  match_count,
  created_at
FROM user_registry_checks
ORDER BY created_at DESC
LIMIT 5;
```

### –°—Ç—ä–ø–∫–∞ 2: –ö–æ–ø–∏—Ä–∞–π –µ–¥–Ω–æ –æ—Ç –∏–º–µ–Ω–∞—Ç–∞

–î–∞ —Ä–µ—á–µ–º –≤–∏–∂–¥–∞—à:
```
full_name: "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ –ì–µ–æ—Ä–≥–∏–µ–≤"
email: "ivan@example.com"
match_count: 3
```

### –°—Ç—ä–ø–∫–∞ 3: –í registry_results_viewer.html

- **Full Name:** –≤—ä–≤–µ–¥–∏ "–ò–≤–∞–Ω" (–∏–ª–∏ –ø—ä–ª–Ω–æ—Ç–æ –∏–º–µ)
- **Supabase URL:** https://ansiaiuaygcfztabtknl.supabase.co
- **Anon Key:** [—Ç–≤–æ—è—Ç –∫–ª—é—á]
- Click **"üîç –¢—ä—Ä—Å–∏"**

**–¢–æ–≤–∞ –¢–†–Ø–ë–í–ê –¥–∞ —Ä–∞–±–æ—Ç–∏** –∑–∞—â–æ—Ç–æ –¥–∞–Ω–Ω–∏—Ç–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—Ç!

---

## üß™ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –ê–∫–æ –ü–ê–ö –Ω—è–º–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: Console –≥—Ä–µ—à–∫–∏

1. –û—Ç–≤–æ—Ä–∏ browser DevTools (F12)
2. –ö–ª–∏–∫–Ω–∏ –Ω–∞ "–¢—ä—Ä—Å–∏"
3. –ü—Ä–æ–≤–µ—Ä–∏ Console –∑–∞ –≥—Ä–µ—à–∫–∏ (—á–µ—Ä–≤–µ–Ω–∏ –ª–∏–Ω–∏–∏)
4. –ü—Ä–æ–≤–µ—Ä–∏ Network tab ‚Üí –≤–∏–∂ HTTP response

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ Anon Key

```javascript
// –í browser console:
console.log(localStorage.getItem('anonKey'));
```

–ü–æ—Ç–≤—ä—Ä–¥–∏ —á–µ –µ –ø—Ä–∞–≤–∏–ª–Ω–∏—è—Ç key.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: SQL –∑–∞—è–≤–∫–∞ –¥–∏—Ä–µ–∫—Ç–Ω–æ

```sql
-- Test exact query –æ—Ç viewer (—Å ILIKE):
SELECT * 
FROM user_registry_checks 
WHERE full_name ILIKE '%–ò–≤–∞–Ω%'
ORDER BY created_at DESC;
```

–ê–∫–æ —Ç–æ–≤–∞ –≤—Ä—ä—â–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏, –∑–Ω–∞—á–∏ viewer-—ä—Ç –¢–†–Ø–ë–í–ê –¥–∞ —Ä–∞–±–æ—Ç–∏.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: CORS / Permissions

–ü—Ä–æ–≤–µ—Ä–∏ —á–µ:
- Anon key –∏–º–∞ –¥–æ—Å—Ç—ä–ø –¥–æ `user_registry_checks` —Ç–∞–±–ª–∏—Ü–∞
- RLS (Row Level Security) –µ disabled –ò–õ–ò –∏–º–∞ policy –∑–∞ SELECT

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏ RLS status:
SELECT schemaname, tablename, rowsecurity
FROM pg_tables
WHERE tablename = 'user_registry_checks';
```

---

## üéØ –°–ª–µ–¥–≤–∞—â–∏ —Å—Ç—ä–ø–∫–∏

### –ó–ê –î–ù–ï–°:

1. ‚úÖ **–ò–∑–ø–æ–ª–∑–≤–∞–π CHECK_DATABASE.sql** ‚Üí –í–∏–∂ –∫–∞–∫–≤–∏ –∏–º–µ–Ω–∞ –∏–º–∞
2. ‚úÖ **–¢–µ—Å—Ç–≤–∞–π —Å –†–ï–ê–õ–ù–û –ò–ú–ï –æ—Ç –±–∞–∑–∞—Ç–∞** ‚Üí –ù–µ –∏–∑–º–∏—Å–ª—è–π –∏–º–µ
3. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏ —á–µ –≤–∏–∂–¥–∞—à —Ä–µ–∑—É–ª—Ç–∞—Ç–∏** ‚Üí Stats + Accordion + Companies

### –ó–ê –£–¢–†–ï:

1. üìù **–†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–π –Ω—è–∫–æ–ª–∫–æ –Ω–æ–≤–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏** ‚Üí –¢–µ—Å—Ç–≤–∞ —Ü–µ–ª–∏—è pipeline
2. üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏ users_pending** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏ status changes
3. üîç **–ò–∑–ø–æ–ª–∑–≤–∞–π viewer –∑–∞ –∞–Ω–∞–ª–∏–∑** ‚Üí –ï–∫—Å–ø–æ—Ä—Ç–≤–∞–π eligible companies

---

## üìÅ –§–∞–π–ª–æ–≤–µ –∑–∞ —Å–ø—Ä–∞–≤–∫–∞

| –§–∞–π–ª | –¶–µ–ª | –ö–æ–≥–∞—Ç–æ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—à |
|------|-----|---------------------|
| `docs/registry_pipeline_visual.html` | LIVE API —Ç–µ—Å—Ç–≤–∞–Ω–µ | –î–µ–±—ä–≥–≤–∞–Ω–µ –Ω–∞ CompanyBook –ª–æ–≥–∏–∫–∞ |
| `docs/registry_results_viewer.html` | DB –ø—Ä–µ–≥–ª–µ–¥ | –ê–Ω–∞–ª–∏–∑ –Ω–∞ –∑–∞–ø–∞–∑–µ–Ω–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏ |
| `CHECK_DATABASE.sql` | SQL –∑–∞—è–≤–∫–∏ | –í–∏–∂ –∫–∞–∫–≤–æ –∏–º–∞ –≤ –±–∞–∑–∞—Ç–∞ |
| `TEST_VERIFICATION_CHECKLIST.md` | –¢–µ—Å—Ç–æ–≤ plan | –ü—ä–ª–Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è |

---

## ‚ùì –û—Ç–≥–æ–≤–æ—Ä–∏ –Ω–∞ –≤—ä–ø—Ä–æ—Å–∏

**Q: –ó–∞—â–æ –Ω–µ –≤–∏–∂–¥–∞–º "–ê—Å–µ–Ω –ú–∏—Ç–∫–æ–≤ –ê—Å–µ–Ω–æ–≤"?**
A: –ó–∞—â–æ—Ç–æ —Ç–æ–≤–∞ –∏–º–µ –Ω—è–º–∞ –∑–∞–ø–∏—Å –≤ user_registry_checks. –ò–∑–ø–æ–ª–∑–≤–∞–π –∏–º–µ –∫–æ–µ—Ç–æ –µ –ø—Ä–µ–º–∏–Ω–∏–ª–æ –ø—Ä–µ–∑ registry_check.

**Q: –ö–∞–∫ –¥–∞ –¥–æ–±–∞–≤—è –Ω–æ–≤–∏ –∏–º–µ–Ω–∞?**
A: –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–π —Å–µ –ø—Ä–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∞ –ò–õ–ò call registry_check Edge Function —Ä—ä—á–Ω–æ.

**Q: –°—Ç–∞—Ä–∏—è—Ç pipeline —Ä–∞–±–æ—Ç–∏ –ª–∏ –æ—â–µ?**
A: –î–ê! –ò–∑–ø–æ–ª–∑–≤–∞–π –≥–æ –∑–∞ LIVE —Ç–µ—Å—Ç–≤–∞–Ω–µ. –ù–æ–≤–∏—è—Ç –ø–æ–∫–∞–∑–≤–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –¥–∞–Ω–Ω–∏.

**Q: –ö–æ–µ –µ –ø–æ-–¥–æ–±—Ä–æ?**
A: –ó–∞–≤–∏—Å–∏ –æ—Ç —Ü–µ–ª—Ç–∞:
- LIVE —Ç–µ—Å—Ç–≤–∞–Ω–µ ‚Üí –°—Ç–∞—Ä pipeline
- –ê–Ω–∞–ª–∏–∑ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ ‚Üí –ù–æ–≤ viewer

---

**–°—Ç–∞—Ä—Ç–∏—Ä–∞–π —Å–µ–≥–∞:**
```bash
# –í Supabase SQL Editor, –∫–æ–ø–∏—Ä–∞–π:
SELECT DISTINCT full_name FROM user_registry_checks LIMIT 10;
```

–°–ª–µ–¥ —Ç–æ–≤–∞ –∏–∑–ø–æ–ª–∑–≤–∞–π –ï–î–ù–û –û–¢ –¢–ï–ó–ò –ò–ú–ï–ù–ê –≤ –Ω–æ–≤–∏—è—Ç viewer! üöÄ
